---
title: "Anexo D: Herramientas de Monitoreo del Sistema - top, htop, etc"
author: "Diego Saavedra"
date: "2026-02-08"
bibliography: ../unidades/unidad1/references.bib
biblio-style: apalike
---

# Anexo D: Herramientas de Monitoreo del Sistema - top, htop, etc

## IntroducciÃ³n

En administraciÃ³n de servidores Linux, **monitorear el sistema** es fundamental. Necesitas saber:

- Â¿CuÃ¡nta CPU estoy usando?
- Â¿QuÃ© procesos consumen memoria?
- Â¿EstÃ¡ saturado el disco?
- Â¿QuiÃ©n se conecta al servidor?

Este anexo enseÃ±a herramientas para **observar quÃ© estÃ¡ sucediendo** en tiempo real en tu servidor.

**ğŸ—ºï¸ En este anexo aprenderÃ¡s:**

- **top** - Monitor de procesos clÃ¡sico (siempre disponible)
- **htop** - VersiÃ³n mejorada de top (mÃ¡s amigable)
- **free** - InformaciÃ³n de RAM
- **df** - Espacio en disco
- **du** - Uso de disco por carpeta
- **iostat** - Lectura/escritura de disco
- **netstat/ss** - Conexiones de red
- **vmstat** - EstadÃ­sticas virtuales de memoria
- Monitoreo remoto y alertas

**â±ï¸ DuraciÃ³n estimada**: 60 minutos de prÃ¡ctica

---

## Â¿Por QuÃ© Estas Herramientas?

**Escenario real en Abacom:**

```
3:47 PM - Usuario reporta: "El servidor estÃ¡ lento"

Tu respuesta:
$ top        # Ver procesos que consumen CPU
$ free -h    # Verificar RAM disponible
$ df -h      # Verificar espacio en disco
$ netstat -an | wc -l  # Ver conexiones activas

ConclusiÃ³n: "Hay 10,000 conexiones TCP activas 
            consumiendo toda la memoria"

SoluciÃ³n: Optimizar aplicaciÃ³n o agregar mÃ¡s RAM
```

Sin estas herramientas, estarÃ­as a ciegas.

---

## ğŸ’¡ Monitoreo en Diferentes SOs

::: {.panel-tabset}

### Linux (Herramientas Nativas)

```bash
# Linux tiene todas estas herramientas nativas
$ which top
/usr/bin/top

$ which htop
/usr/bin/htop

$ which free
/usr/bin/free

$ which df
/bin/df

# Monitor de procesos
$ top
$ htop  # (si estÃ¡ instalado)

# RAM disponible
$ free -h
              total        used        free
Mem:           15Gi       5.2Gi       8.2Gi

# Espacio en disco
$ df -h
Filesystem     Size  Used Avail Use%
/dev/sda1      100G   35G   65G  35%

# Conexiones de red
$ ss -an | wc -l
2345
```

### macOS (Diferentes comandos)

```bash
# macOS NO tiene: top, htop, free (igual que Linux)
# Top existe pero funciona diferente
# Free no existe - usar vm_stat en su lugar

# Monitor de procesos (macOS top)
$ top -l 1  # Solo una iteraciÃ³n
$ top       # Interactive (diferente a Linux)

# Memoria (no existe 'free', usar vm_stat)
$ vm_stat | grep "Pages free"
Pages free:                     2048234  # En pÃ¡ginas de 4KB

# Alternativa: Con Homebrew
$ brew install htop
$ htop  # Ahora funciona igual a Linux

# Espacio en disco
$ df -h
Filesystem     Size  Used Avail Use%
/dev/disk0s2   250G  100G  150G  40%

# Conexiones de red (similar a Linux)
$ netstat -an | wc -l
1234

# Mejor: usar lsof para ver procesos y puertos
$ lsof -i :8080
# Ver quÃ© proceso usa puerto 8080
```

### Windows (PowerShell / Task Manager)

```powershell
# Windows no tiene top, free, df
# Usa Get-Process, Get-PSDrive, etc.

# Monitor de procesos
PS> Get-Process | Sort-Object CPU -Descending | Select-Object Name, CPU, Memory | head -10

Name              CPU        Memory
----              ---        ------
chrome        450.25  2842894336
firefox       125.50   854321120

# RAM disponible
PS> $RAM = Get-WmiObject Win32_ComputerSystem
PS> Write-Host "$($RAM.TotalPhysicalMemory / 1GB) GB total RAM"
16 GB total RAM

# Espacio en disco
PS> Get-PSDrive | Where-Object {$_.Provider -match 'FileSystem'}

Name Used (GB) Free (GB) Provider
---- --------- --------- --------
C       200      50       FileSystem
D       500      100      FileSystem

# Conexiones de red
PS> (Get-NetTCPConnection).Count
2345

# O abrir Task Manager grÃ¡ficamente
PS> taskmgr  # GUI interactiva
```

:::

**ComparaciÃ³n de comandos:**
| Tarea | Linux | macOS | Windows |
|------|-------|-------|---------|
| Ver procesos | `top` / `htop` | `top -l 1` (diferente) | `Get-Process` |
| Ver RAM | `free -h` | `vm_stat` | `Get-WmiObject Win32_ComputerSystem` |
| Ver disco | `df -h` | `df -h` | `Get-PSDrive` |
| Ver conexiones | `netstat -an` / `ss` | `netstat -an` / `lsof -i` | `Get-NetTCPConnection` |

**RecomendaciÃ³n para Abacom:**

- Linux: Usar herramientas nativas (top, free, df, netstat)
- macOS: Instalar Homebrew y usar `htop`, `lsof`
- Windows: Usar PowerShell cmdlets o Task Manager GUI

---

## Concepto 1: TOP - Monitor de Procesos

### Ejecutar TOP

```bash
top  # <1>
```

1. **top** abre monitor interactivo de procesos

**Pantalla inicial:**

```
top - 15:47:23 up 45 days, 2:34,  3 users,  load average: 0.89, 0.76, 0.68
Tasks: 287 total,   2 running, 285 sleeping,   0 stopped,   0 zombie
%Cpu(s):  8.2 us,  3.4 sy,  0.0 ni, 88.1 id,  0.3 wa,  0.0 hi,  0.0 si,  0.0 st
MiB Mem : 15967.5 total,  8234.6 free,  5421.2 used,  2311.7 buff/cache
MiB Swap:  4096.0 total,  4096.0 free,     0.0 used.  9854.3 avail Mem

   PID USER      PR  NI    VIRT    RES    SHR S  %CPU  %MEM     TIME+ COMMAND
 12847 nginx    20   0  145620  12344   9876 S   8.2   0.1   2:45.32 nginx
  8934 mysql    20   0  876543 234567  45678 S   5.6  12.3  45:23.12 mysqld
```

### Entender la Salida de TOP

**Primera lÃ­nea:**
```
top - 15:47:23              â† Hora actual
up 45 days, 2:34            â† Tiempo encendido el servidor
3 users                     â† Usuarios conectados
load average: 0.89, 0.76, 0.68  â† Carga CPU (1min, 5min, 15min)
```

**"Load average" es crÃ­tico:**

- **1 core = load 1.0** es 100% ocupado
- **4 cores = load 4.0** es 100% ocupado
- **load 0.5** = 50% del CPU disponible
- Si ves **load 8.0** en mÃ¡quina 4-core = **SATURADO**

**Segunda lÃ­nea - Procesos:**
```
Tasks: 287 total    â† Total de procesos
2 running           â† EjecutÃ¡ndose ahora
285 sleeping        â† Esperando (normal)
0 stopped           â† Detenidos
0 zombie            â† Procesos fantasma (problema)
```

**Tercera lÃ­nea - CPU:**
```
%Cpu(s): 8.2 us         â† User Space (cÃ³digo de aplicaciÃ³n)
         3.4 sy         â† System (kernel Linux)
         0.0 ni         â† Nice (prioridad baja)
         88.1 id        â† Idle (desocupado) â† Ideal es ALTO
         0.3 wa         â† Wait I/O (esperando disco)
         0.0 hi         â† Hardware interrupts
         0.0 si         â† Software interrupts
         0.0 st         â† Stolen (virtualization)
```

**Memoria:**
```
MiB Mem: 15967.5 total       â† RAM total
         8234.6 free         â† Disponible (libre)
         5421.2 used         â† En uso
         2311.7 buff/cache   â† Buffer/Cache (puede liberarse)
```

**Columnas de Procesos:**
```
PID      â† ID del proceso
USER     â† Usuario propietario
%CPU     â† Porcentaje de CPU usando
%MEM     â† Porcentaje de RAM usando
VIRT     â† Memoria virtual (puede no existir)
RES      â† Memoria fÃ­sica (RAM real)
COMMAND  â† Nombre del proceso
```

---

### Comandos Interactivos en TOP

Dentro de TOP, presiona:

```
ESPACIO   â†’ Actualizar pantalla
P         â†’ Ordenar por %CPU (procesos mÃ¡s pesados)
M         â†’ Ordenar por %MEM (mÃ¡s memoria)
T         â†’ Ordenar por TIME (mÃ¡s tiempo corriendo)
R         â†’ Invertir orden (Mayor a menor)

q         â†’ Salir de top
k         â†’ Matar proceso (kill)
r         â†’ Cambiar prioridad (renice)
f         â†’ Agregar/quitar columnas
```

### Ejemplo: Encontrar Proceso que Consume CPU

```bash
# Ejecutar top
top

# Presionar P para ordenar por CPU
# Ver el primero en lista

# Presionar k para matar (si necesitas)
# Ingresar PID del proceso
```

---

### TOP sin Modo Interactivo

```bash
# Ver procesos una sola vez (sin interactivo)
top -b -n 1  # <1>
```

1. **-b** (batch mode) no interactivo, **-n 1** una sola actualizaciÃ³n

**Ãštil en scripts:**

```bash
#!/bin/bash
# Monitorear si PHP consume >80% CPU

top -b -n 1 | grep php | awk '{print $9}' | while read CPU
do
  if (( $(echo "$CPU > 80" | bc -l) ))
  then
    echo "ALERTA: PHP consume ${CPU}% CPU"
    # Enviar alerta por email, etc
  fi
done
```

---

## Concepto 2: HTOP - TOP Mejorado

### Instalar HTOP

```bash
# Ubuntu/Debian
sudo apt install -y htop

# CentOS/RHEL
sudo dnf install -y htop

# Arch
sudo pacman -S htop
```

### Ejecutar HTOP

```bash
htop  # <1>
```

1. **htop** es reemplazo directo de top (mismos comandos)

**Ventajas sobre TOP:**

- âœ… Colores (mÃ¡s legible)
- âœ… Barras de progreso (CPU, Memoria)
- âœ… Scroll horizontal/vertical
- âœ… Buscar procesos (f para filtrar)
- âœ… Ver Ã¡rbol de procesos (t para tree)
- âœ… Interfaz mÃ¡s amigable

**Pantalla de HTOP:**

```
  CPU[â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘] 45%     Tasks: 142, 2 thr; 1 running
  Mem[â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘] 68%     Load average: 0.89 0.76 0.68
  Swp[â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘] 0%      Uptime: 45d 2h 34m

   PID USER      PRI  NI  VIRT   RES   SHR S CPU% MEM%   TIME+ Command
 12847 nginx     20   0  145M  12M  9.8M S  8.2  0.1  2:45 nginx: worker process
  8934 mysql     20   0  876M 234M  45M S  5.6 12.3 45:23 /usr/sbin/mysqld
  2341 diego     20   0  234M  89M  23M S  2.1  0.6  1:23 firefox
```

### Atajos en HTOP

```
P         â†’ Ordenar por %CPU
M         â†’ Ordenar por %MEM
T         â†’ Ordenar por TIME
H         â†’ Mostrar/ocultar procesos de threads
K         â†’ Mostrar/ocultar kernel threads
F         â†’ Filtrar procesos (ej: "nginx")
t         â†’ Ver Ã¡rbol de procesos (parent-child)
i         â†’ Mostrar solo procesos con I/O
s         â†’ Cambiar prioridad (strace)
q         â†’ Salir
```

---

## Concepto 3: FREE - InformaciÃ³n de RAM

### Ver Memoria en Formato Humano

```bash
free -h  # <1>
```

1. **-h** (human-readable) muestra en GB/MB en vez de bytes

**Salida:**

```
              total        used        free      shared  buff/cache   available
Mem:           15Gi       5.3Gi       8.0Gi      234Mi       2.3Gi       9.4Gi
Swap:         4.0Gi          0B       4.0Gi
```

### Interpretar la Salida

```
Mem: 15Gi          â† RAM total instalada
     5.3Gi usado   â† En uso ahora
     8.0Gi libre   â† No usado (desocupado)
     234Mi shared  â† Memoria compartida (mÃºltiples procesos)
     2.3Gi cache   â† Datos cacheados (puede liberarse)
     9.4Gi avail   â† Disponible para aplicaciones NEW
```

**Antes Linux 3.14:**
```
Total = Usado + Libre  â† Esto era INCORRECTO
```

**Linux 3.14+ (disponible):**
```
Total = Usado + (Cache - usable) + Libre
Avail = Libre + Cache  â† Lo que REALMENTE tienes disponible
```

### Monitorear Memoria en Intervalos

```bash
# Mostrar cada 2 segundos
free -h -s 2  # <1>
```

1. **-s 2** (seconds) actualiza cada 2 segundos

**Salida:**
```
              total        used        free      shared  buff/cache   available
Mem:           15Gi       5.3Gi       8.0Gi      234Mi       2.3Gi       9.4Gi
Swap:         4.0Gi          0B       4.0Gi

              total        used        free      shared  buff/cache   available
Mem:           15Gi       5.3Gi       8.0Gi      234Mi       2.3Gi       9.4Gi
Swap:         4.0Gi          0B       4.0Gi
```

Presiona **Ctrl+C** para salir.

---

## Concepto 4: DF - Espacio en Disco

### Ver Espacio en Disco

```bash
df -h  # <1>
```

1. **-h** (human-readable) en GB/MB

**Salida:**

```
Filesystem      Size  Used Avail Use% Mounted on
/dev/sda1        50G   32G   15G  68% /
/dev/sda2       450G   120G  330G  27% /home
/dev/sdb1       500G   480G   20G  96% âš ï¸ /mnt/backup
tmpfs            15G     0   15G   0% /dev/shm
```

### Identificar Discos Llenos

```bash
# Mostrar en porcentaje de uso
df -h | awk '{print $5, $6}' | sort -rn  # <1>
```

1. **awk** extrae columnas, **sort -rn** ordena descendente

**Salida:**
```
96% /mnt/backup     â† Â¡ALERTA! Disco lleno
68% /
27% /home
0% /dev/shm
```

### Alerta si Disco >80% Lleno

```bash
#!/bin/bash
# Script para monitorear discos

df -h | tail -n +2 | while read LINE
do
  USAR=$(echo $LINE | awk '{print $5}' | sed 's/%//')  # <1>
  MOUNT=$(echo $LINE | awk '{print $6}')
  
  if [ "$USAR" -gt 80 ]
  then
    echo "âš ï¸  ALERTA: $MOUNT estÃ¡ al ${USAR}% de capacidad"
  fi
done
```

1. **sed 's/%//'** elimina el signo % para comparar como nÃºmero

---

## Concepto 5: DU - Uso de Disco por Carpeta

### Encontrar QuÃ© Ocupa Espacio

```bash
# Â¿QuiÃ©n estÃ¡ ocupando espacio en /home?
du -sh /home/*  # <1>
```

1. **-s** (summarize) solo total, **-h** (human) en GB/MB

**Salida:**

```
45G   /home/diego
23G   /home/carlos
8.2G  /home/ana
1.5G  /home/backup
```

### Encontrar Top 10 Carpetas MÃ¡s Grandes

```bash
du -sh /* | sort -rh | head -10  # <1>
```

1. **sort -rh** ordena numÃ©rico inverso

**Salida:**

```
234G  /var
120G  /home
45G   /opt
23G   /usr
8.2G  /root
4.5G  /tmp
2.3G  /etc
1.2G  /srv
890M  /lib
456M  /bin
```

### Profundizar en Carpeta

```bash
# Â¿QuÃ© hay en /var que ocupa 234G?
du -sh /var/* | sort -rh | head -5

# Â¿QuÃ© hay en /var/log?
du -sh /var/log/* | sort -rh | head -5
```

**Encontrar carpeta problemÃ¡tica:**

```bash
du -sh /var/log/* | grep "G$"  # <1>
```

1. **grep "G$"** solo lÃ­neas con G (gigabytes)

---

## Concepto 6: IOSTAT - Lectura/Escritura de Disco

### Instalar sysstat

```bash
# Ubuntu/Debian
sudo apt install -y sysstat

# CentOS/RHEL
sudo dnf install -y sysstat

# Arch
sudo pacman -S sysstat
```

### Ver Actividad de Disco

```bash
iostat -x 1  # <1>
```

1. **-x** (extended) mÃ¡s detalles, **1** actualiza cada 1 segundo

**Salida (primera lÃ­nea muestra promedios):**

```
Device            r/s     w/s     rMB/s   wMB/s r_await w_await %util
sda            125.4    45.2      8.3     2.1    12.5    23.4   45.2%
sdb             45.2    10.1      3.2     0.8     8.2    15.1   12.3%
sdc              2.1     1.0      0.1     0.1    45.2    78.9    2.1%

Device            r/s     w/s     rMB/s   wMB/s r_await w_await %util
sda            234.1    89.3     15.4     5.2    15.2    34.5   78.9%
sdb              0.0     0.0      0.0     0.0     0.0     0.0    0.0%
sdc              0.0     0.0      0.0     0.0     0.0     0.0    0.0%
```

### Interpretar iostat

```
r/s      â† Lecturas por segundo
w/s      â† Escrituras por segundo
rMB/s    â† Megabytes leÃ­dos por segundo
wMB/s    â† Megabytes escritos por segundo
r_await  â† Latencia de lectura (ms)
w_await  â† Latencia de escritura (ms)
%util    â† Porcentaje de utilizaciÃ³n
```

**AnÃ¡lisis:**

- **%util > 80%** = Disco saturado
- **r_await > 50ms** = Lecturas lentas
- **w_await > 100ms** = Escrituras muy lentas

---

## Concepto 7: NETSTAT/SS - Conexiones de Red

### Ver Conexiones Activas

```bash
# MÃ©todo moderno (recomendado)
ss -tulpn  # <1>

# MÃ©todo antiguo (aÃºn funciona)
netstat -tulpn  # <2>
```

1. **ss** (socket statistics) es reemplazo moderno de netstat

2. **netstat** funciona pero deprecado

**Opciones:**

- **t** = TCP
- **u** = UDP
- **l** = Listen (servicios esperando)
- **p** = Process (mostrar quÃ© proceso)
- **n** = Numeric (IP en vez de nombres)

**Salida:**

```
State     Recv-Q Send-Q Local Address    Foreign Address  State    PID/Program
LISTEN      0     128  0.0.0.0:22       0.0.0.0:*       LISTEN   1234/sshd
LISTEN      0     128  0.0.0.0:80       0.0.0.0:*       LISTEN   5678/nginx
ESTAB       0      0  192.168.1.100:22 192.168.1.50:45678 ESTAB   9876/sshd
```

### Ver Solo Conexiones TCP Establecidas

```bash
ss -tn | grep ESTAB | wc -l  # <1>
```

1. **grep ESTAB** filtra conexiones establecidas, **wc -l** cuenta

**Salida:**
```
247
```

Hay 247 conexiones TCP activas.

### Encontrar Proceso Usando Puerto

```bash
# Â¿QuiÃ©n estÃ¡ usando puerto 8080?
ss -tulpn | grep :8080  # <1>
```

1. **grep :8080** busca puerto 8080

**Salida:**
```
LISTEN  0  128  0.0.0.0:8080  0.0.0.0:*  LISTEN  12345/java
```

Proceso Java con PID 12345 estÃ¡ usando puerto 8080.

---

## ğŸ’¡ Ejemplos PrÃ¡cticos Reales

### Ejemplo 1: Monitoreo Completo del Servidor

**Script que muestra salud general:**

```bash
#!/bin/bash
# Script de salud del servidor para Abacom

echo "=== MONITOREO DEL SERVIDOR ==="
echo

# CPU y Carga
echo "ğŸ“Š CPU y Carga:"
top -b -n 1 | head -3
echo

# RAM
echo "ğŸ’¾ Memoria:"
free -h | head -2
echo

# Disco
echo "ğŸ’¿ Disco:"
df -h | grep "^/dev" | awk '{printf "%-15s %6s %6s %6s\n", $1, $3, $2, $5}'
echo

# Procesos por CPU
echo "ğŸ”¥ Top 3 procesos por CPU:"
top -b -n 1 | head -7 | tail -3
echo

# Procesos por Memoria
echo "ğŸ§  Top 3 procesos por Memoria:"
top -b -n 1 -o %MEM | head -7 | tail -3
echo

# Conexiones de red
echo "ğŸŒ Conexiones TCP activas:"
ss -tn | grep ESTAB | wc -l
echo

echo "âœ“ Monitoreo completado: $(date)"
```

**Uso:**
```bash
chmod +x monitor.sh
./monitor.sh

# Salida esperada:
# === MONITOREO DEL SERVIDOR ===
# 
# ğŸ“Š CPU y Carga:
# load average: 0.89, 0.76, 0.68
# ...
```

---

### Ejemplo 2: Alerta si CPU >80%

```bash
#!/bin/bash
# Alerta si CPU estÃ¡ saturado

LIMITE=80
CPU=$(top -b -n 1 | grep "Cpu(s)" | awk '{print $2}' | cut -d'%' -f1 | cut -d' ' -f1)

if (( $(echo "$CPU > $LIMITE" | bc -l) ))
then
  echo "âš ï¸  ALERTA: CPU estÃ¡ al ${CPU}%"
  # Enviar email, Slack, etc
  echo "ALERTA CPU" | mail -s "Servidor saturado" admin@abacom.es
fi
```

---

### Ejemplo 3: Dashboard en Tiempo Real

```bash
#!/bin/bash
# Monitoreo continuo en terminal

while true
do
  clear
  echo "=== MONITOREO EN VIVO ==="
  echo "Hora: $(date '+%H:%M:%S')"
  echo
  
  # Mostrar top 5 procesos
  echo "Top 5 procesos por CPU:"
  top -b -n 1 | tail -6
  echo
  
  # Mostrar RAM
  echo "Memoria (MB):"
  free -m | head -2
  echo
  
  sleep 2
done
```

---

## ğŸ“Š Tabla de Referencia RÃ¡pida

| Herramienta | Uso | Ejemplo |
|-----------|-----|---------|
| **top** | Monitor procesos interactivo | **top** |
| **htop** | Top mejorado con colores | **htop** |
| **free -h** | RAM disponible | **free -h** |
| **df -h** | Espacio en disco | **df -h** |
| **du -sh** | Uso por carpeta | **du -sh /home/*** |
| **iostat -x 1** | I/O del disco | **iostat -x 1** |
| **ss -tn** | Conexiones TCP | **ss -tn** |
| **vmstat 1** | EstadÃ­sticas VM | **vmstat 1 10** |

---

## ğŸ“ Quiz: Verificar ComprensiÃ³n

:::{.callout-tip collapse="true"}
### Pregunta 1: Â¿QuÃ© significa "load average 4.0"?

**a)** CPU estÃ¡ al 40%  
**b)** Hay 4 procesos ejecutÃ¡ndose  
**c)** En mÃ¡quina 4-core = CPU 100% ocupado (Correcto âœ“)  
**d)** Sistema necesita 4 GB mÃ¡s RAM  

**ExplicaciÃ³n**: Load 1.0 por core = 100% uso. En mÃ¡quina 4-core, load 4.0 = saturado.
:::

:::{.callout-tip collapse="true"}
### Pregunta 2: Â¿CuÃ¡l es la diferencia entre "Usado" y "Disponible" en free -h?

**a)** Son iguales  
**b)** "Usado" incluye cache que puede liberarse. "Disponible" es realmente free (Correcto âœ“)  
**c)** "Disponible" es mÃ¡s pequeÃ±o siempre  
**d)** "Usado" no cuenta swap  

**ExplicaciÃ³n**: Antes "Usado + Libre = Total". Ahora Linux 3.14+ muestra "Disponible" que es lo que realmente puedes usar.
:::

:::{.callout-tip collapse="true"}
### Pregunta 3: Â¿CÃ³mo encuentras quÃ© proceso usa puerto 8080?

**a)** **netstat 8080**  
**b)** **lsof -i :8080**  
**c)** **ss -tulpn | grep :8080** (Correcto âœ“)  
**d)** **top | grep 8080**  

**ExplicaciÃ³n**: **ss -tulpn** muestra puertos y procesos. **grep :8080** filtra por puerto.
:::

---

## ğŸ‘¨â€ğŸ’» PrÃ¡ctica: Crear Dashboard Personalizado

**Ejercicio: Script que muestra salud en 1 pÃ¡gina**

```bash
#!/bin/bash
# dashboard.sh - Monitoreo de servidor

clear
printf "â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—\n"
printf "â•‘   DASHBOARD DE SERVIDOR ABACOM                    â•‘\n"
printf "â•‘   Generado: $(date '+%Y-%m-%d %H:%M:%S')              â•‘\n"
printf "â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n\n"

# CPU
printf "CPU (Load Average):\n"
uptime | awk -F'load average:' '{print "  "$2}'
printf "\n"

# RAM
printf "Memoria RAM:\n"
free -h | awk 'NR==2 {printf "  Total: %s | Usado: %s | Disponible: %s\n", $2, $3, $7}'
printf "\n"

# Disco
printf "Disco (Top 3):\n"
df -h | grep "^/dev" | sort -k5 -rn | head -3 | awk '{printf "  %s: %3s / %s\n", $6, $5, $2}'
printf "\n"

# Procesos
printf "Procesos (Top CPU):\n"
top -b -n 1 | tail -5 | awk '{printf "  %s: %s%%\n", $12, $9}' | head -3
printf "\n"

printf "âœ“ Fin de monitoreo\n"
```

**Ejecutar:**
```bash
chmod +x dashboard.sh
./dashboard.sh
```

---

## ğŸ“š Recursos Adicionales

- **Man Pages**: **man top**, **man htop**, **man free**, **man df**, **man iostat**, **man ss**
- **Linux Performance Tools**: https://www.brendangregg.com/linuxperf.html
- **htop Documentation**: https://htop.dev/
- **Sysstat Manual**: https://github.com/sysstat/sysstat

---

## ConclusiÃ³n

Ahora sabes:
âœ“ Ver procesos con top y htop
âœ“ Monitorear CPU, RAM, disco
âœ“ Encontrar quÃ© consume recursos
âœ“ Ver conexiones de red
âœ“ Crear alertas y dashboards

**Para Abacom**: Crea un script de monitoreo y Ãºsalo diariamente para mantener servidores saludables.

**PrÃ³ximo paso**: Integra estas herramientas en scripts de mantenimiento automÃ¡tico.

---
