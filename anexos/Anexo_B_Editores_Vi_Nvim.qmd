---
title: "Anexo B: Editores Vi y Nvim - Mini-Curso Pr√°ctico"
author: "Diego Saavedra"
date: "2024-01-29"
bibliography: ../unidades/unidad1/references.bib
biblio-style: apalike
---

# Anexo B: Editores Vi y Nvim - Mini-Curso Pr√°ctico

## Introducci√≥n

**Vi/Vim/Nvim** son editores de texto basados en terminal disponibles en TODO servidor Linux. No tienen interfaz gr√°fica, por lo que son **imprescindibles** para administrar servidores remotos v√≠a SSH.

- **Vi**: Editor cl√°sico (1976), disponible en cualquier Unix
- **Vim**: "Vi Improved" (1991), extensi√≥n mejorada de Vi
- **Neovim**: "Next generation Vim" (2014), moderno, extensible

Este mini-curso te ense√±a **solo lo que necesitas** para editar archivos r√°pidamente en Abacom.

**üó∫Ô∏è En este anexo aprender√°s:**

- Modos de Vi/Vim (Normal, Insert, Command)
- Navegaci√≥n y movimiento
- Edici√≥n b√°sica (insertar, copiar, pegar, borrar)
- B√∫squeda y reemplazo
- Guardar y salir
- Configuraci√≥n b√°sica
- Diferencias Vi vs Vim vs Nvim

**‚è±Ô∏è Duraci√≥n estimada**: 90 minutos de pr√°ctica

---

## ¬øVi? ¬øVim? ¬øNvim? ¬øCu√°l Uso?

**En producci√≥n (servidores remotos):**

- Usa **Vi** o **Vim** - Siempre est√° disponible
- Nvim puede no estar instalado en servidores antiguos

**En tu m√°quina de desarrollo:**

- Usa **Nvim** - Moderno, m√°s funcionalidad, configuraci√≥n mejorada
- O **Vim** si Nvim no est√° disponible

**Para Abacom:**

- Aprende **Vim** (compatible con Vi, pero mejor)
- Ten Nvim en tu m√°quina local para trabajo c√≥modo

---

## üí° Editores en Diferentes SOs

::: {.panel-tabset}

### Linux (Vim/Nvim)

```bash
# Verificar si est√° instalado
$ which vim
/usr/bin/vim

$ which nvim
/usr/bin/nvim

# Instalar si no est√°
$ sudo apt install vim vim-nox  # Linux
$ sudo apt install neovim       # Para Nvim

# Usar Vim
$ vim archivo.txt
# O Nvim
$ nvim archivo.txt

# Configuraci√≥n en ~/.vimrc o ~/.config/nvim/init.vim
```

**Disponibilidad:**

- ‚úÖ Vim: Siempre disponible en servidores
- ‚úÖ Nvim: Disponible en m√°quinas modernas
- Recomendado: **Vim** en producci√≥n, **Nvim** en desarrollo

### macOS (Vim/Nvim)

```bash
# macOS viene con Vi preinstalado
$ which vi
/usr/bin/vi

# Verificar Vim
$ which vim
/usr/bin/vim

# O instalar via Homebrew
$ brew install vim
$ brew install neovim

# Usar Vim
$ vim archivo.txt

# Configuraci√≥n t√≠pica:
$ ~/.vimrc
$ ~/.config/nvim/init.vim

# Nota: En macOS, Vim puede ser versi√≥n antigua
# Mejor usar Homebrew para instalar versi√≥n m√°s nueva
```

**Disponibilidad:**

- ‚ö†Ô∏è Vi: Versi√≥n antigua (preinstalada)
- ‚ö†Ô∏è Vim: Versi√≥n antigua o no instalada
- ‚úÖ Nvim: Disponible via Homebrew
- Recomendado: **Instalar Vim/Nvim via Homebrew**

### Windows (WSL/Git Bash/VS Code)

```powershell
# Windows NO tiene Vim nativo
# Opciones:

# OPCI√ìN 1: Windows Subsystem for Linux (WSL)
PS> wsl vim archivo.txt
# Accede a Vim via WSL (requiere Ubuntu/Debian en WSL)

# OPCI√ìN 2: Git Bash (incluye Vim)
PS> "C:\Program Files\Git\usr\bin\vim.exe" archivo.txt

# OPCI√ìN 3: Instalar directamente (NeoVim portable)
PS> choco install neovim  # Via Chocolatey
PS> nvim archivo.txt

# OPCI√ìN 4: VS Code con extensi√≥n VIM
PS> code archivo.txt
# Instalar "Vim" extension en VS Code (mejor UX)

# Configuraci√≥n en Windows:
# %APPDATA%\.vimrc o ~/.config/nvim/init.vim (via WSL)
```

**Disponibilidad:**

- ‚ùå Vim: No disponible nativamente
- ‚ö†Ô∏è Vi: Solo via WSL
- ‚úÖ Nvim: Via Chocolatey o manual
- ‚úÖ VS Code + Vim extension: Recomendado para principiantes

:::

**Comparaci√≥n r√°pida:**
| Aspecto | Linux | macOS | Windows |
|--------|-------|-------|---------|
| Vim disponible | ‚úÖ S√≠ | ‚ö†Ô∏è Versi√≥n vieja | ‚ùå No |
| Nvim disponible | ‚úÖ F√°cil | ‚úÖ Homebrew | ‚úÖ Chocolatey |
| Recomendado para producci√≥n | Vim | Vim | WSL + Vim |
| Recomendado para desarrollo | Nvim | Nvim | VS Code + Vim |

---

## Los 3 Modos de Vim

### Modo Normal (Command Mode)

Aqu√≠ **accedes** pero NO ESCRIBES. Es donde pasas m√°s tiempo.

- Navegar con **hjkl** (izquierda, abajo, arriba, derecha)
- Buscar, copiar, pegar, borrar, deshacer
- **Presiona ESC** desde cualquier modo para volver aqu√≠

### Modo Insert (Edit Mode)

Aqu√≠ **escribes** como en un editor normal.

- Todas las teclas escriben caracteres
- **Presiona ESC** para volver a Modo Normal
- Se activa con: **i**, **a**, **o**, **c**, etc

### Modo Command (: Mode)

Aqu√≠ **ejecutas** comandos de Vim.

- **Presiona :** en Modo Normal para entrar
- Comandos: **:w** (guardar), **:q** (salir), **:set** (configurar)
- **Presiona Enter** para ejecutar, **ESC** para cancelar

---

## Concepto 1: Navegar en Modo Normal

### Movimiento B√°sico

```
Dentro de Vim en Modo Normal, NO USES FLECHAS.
Usa hjkl (es costumbre de Vi desde 1976)

    k (arriba)
h       l (derecha)
    j (abajo)

Practica: Abre un archivo con vim miarchivo.txt
Presiona h, j, k, l varias veces para sentir
```

### Movimiento por Palabras

```
w     ‚Üí Siguiente palabra (word)
b     ‚Üí Anterior palabra (back)
e     ‚Üí Fin de palabra (end)
^     ‚Üí Inicio de l√≠nea
$     ‚Üí Fin de l√≠nea
0     ‚Üí Columna 0 (muy inicio)
```

### Movimiento por P√°ginas

```
Ctrl+f ‚Üí P√°gina adelante (forward)
Ctrl+b ‚Üí P√°gina atr√°s (back)
Ctrl+u ‚Üí Media p√°gina arriba (up)
Ctrl+d ‚Üí Media p√°gina abajo (down)
gg     ‚Üí Ir al inicio del archivo
G      ‚Üí Ir al final del archivo
5G     ‚Üí Ir a l√≠nea 5
```

### B√∫squeda y Posici√≥n

```
/patron    ‚Üí Busca "patron" hacia adelante
?patron    ‚Üí Busca "patron" hacia atr√°s
n          ‚Üí Siguiente resultado
N          ‚Üí Anterior resultado
:123       ‚Üí Ir a l√≠nea 123
```

**Pr√°ctica:**

Abre cualquier archivo con:
```bash
vim /etc/apt/sources.list
```

- Presiona **/** y escribe **deb** para buscar l√≠neas de repositorio
- Presiona **n** para siguiente resultado
- Presiona **G** para ir al final
- Presiona **gg** para volver al inicio

---

## Concepto 2: Editar en Modo Insert

### Entrar a Modo Insert

```
i    ‚Üí Insert antes del cursor
I    ‚Üí Insert al inicio de la l√≠nea
a    ‚Üí Append despu√©s del cursor
A    ‚Üí Append al final de la l√≠nea
o    ‚Üí Open nueva l√≠nea abajo
O    ‚Üí Open nueva l√≠nea arriba
```

**Ejemplo pr√°ctico:**

```bash
# Abre archivo
vim /tmp/test.txt

# Presiona i (enter Modo Insert)
# Escribe: Hola Abacom
# Presiona ESC (volver a Modo Normal)
# Presiona :w (guardar)
```

### Editar Dentro de Palabras

```
c    ‚Üí Change (cambiar) = borrar y entrar Insert
cw   ‚Üí Cambiar palabra bajo cursor
```

**Ejemplo:**

```bash
L√≠nea original: El servidor web est√° activo

# Posiciona cursor en "web"
# Presiona cw (change word)
# Tipo: nginx
# Resultado: El servidor nginx est√° activo
```

---

## Concepto 3: Copiar, Cortar, Pegar

### Copiar (Yank)

```
y     ‚Üí Yank (copiar) l√≠nea completa
yw    ‚Üí Yank palabra
yy    ‚Üí Yank l√≠nea (igual a y)
3yy   ‚Üí Yank 3 l√≠neas
```

### Cortar (Delete)

```
d     ‚Üí Delete l√≠nea
dw    ‚Üí Delete palabra
dd    ‚Üí Delete l√≠nea completa
3dd   ‚Üí Delete 3 l√≠neas
x     ‚Üí Delete car√°cter bajo cursor
```

### Pegar

```
p     ‚Üí Paste (pegar) despu√©s de posici√≥n actual
P     ‚Üí Paste antes de posici√≥n actual
```

**Ejemplo completo:**

```bash
# Abre archivo
vim /tmp/ejemplo.txt

# Posiciona en l√≠nea que quieres copiar
# Presiona yy (copia l√≠nea)
# Mu√©vete a otra l√≠nea
# Presiona p (pega)
# Resultado: l√≠nea duplicada
```

---

## Concepto 4: Buscar y Reemplazar

### B√∫squeda Simple

```
/patron     ‚Üí Busca "patron"
n           ‚Üí Pr√≥ximo resultado
N           ‚Üí Anterior resultado
```

### Reemplazar en L√≠nea

```
:s/antiguo/nuevo      ‚Üí Reemplaza en l√≠nea actual
:s/antiguo/nuevo/g    ‚Üí Reemplaza todos en l√≠nea
```

### Reemplazar en Archivo

```
:%s/antiguo/nuevo     ‚Üí Primera ocurrencia por l√≠nea
:%s/antiguo/nuevo/g   ‚Üí TODAS las ocurrencias
:%s/antiguo/nuevo/gc  ‚Üí Con confirmaci√≥n (c=confirm)
```

**Ejemplo pr√°ctico:**

```bash
# Archivo con varios "localhost"
vim /etc/hosts

# Reemplazar todo
:% s/localhost/127.0.0.1/g

# Resultado: todos "localhost" ‚Üí "127.0.0.1"
```

---

## Concepto 5: Deshacer y Rehacer

```
u       ‚Üí Undo (deshacer)
Ctrl+r  ‚Üí Redo (rehacer)
U       ‚Üí Undo toda l√≠nea (todas cambios en l√≠nea actual)
```

**Pr√°ctica:**

```bash
vim /tmp/test.txt

# Haz cambios varios
# Presiona u varias veces para ver c√≥mo deshace
# Presiona Ctrl+r para rehacer
```

---

## Concepto 6: Guardar y Salir

### Guardar

```
:w              ‚Üí Write (guardar)
:w nuevo.txt    ‚Üí Guardar como nuevo archivo
:w!             ‚Üí Guardar forzadamente (sobrescribe)
```

### Salir

```
:q              ‚Üí Quit (salir) si no hay cambios
:q!             ‚Üí Quit sin guardar (! = force)
:wq             ‚Üí Write y Quit (guardar y salir)
:wq!            ‚Üí Guardar forzadamente y salir
ZZ              ‚Üí Equivalente a :wq
```

### Combinaciones √ötiles

```
:w | q          ‚Üí Guardar y salir (pipe)
:e archivo.txt  ‚Üí Abrir otro archivo (edit)
```

---

## üí° Ejemplos Pr√°cticos Reales

### Ejemplo 1: Editar Archivo de Configuraci√≥n Nginx

**Escenario**: Necesitas cambiar puerto 80 a 8080 en nginx.conf

```bash
# Abre archivo
vim /etc/nginx/nginx.conf

# B√∫squeda
/listen 80

# Presiona n para siguiente resultado hasta encontrar el correcto

# Navega al n√∫mero 80
# Presiona ci" (change inside quotes) o simplemente:
# Posiciona en el 80
# Presiona c2w (cambiar 2 palabras)
# Escribe: 8080

# Resultado: listen 8080;

# Guardar
:wq
```

---

### Ejemplo 2: Agregar L√≠nea de Comentario

**Escenario**: Comentar l√≠nea en configuraci√≥n

```bash
vim /etc/ssh/sshd_config

# Buscar PermitRootLogin
/PermitRootLogin

# Presiona I (insert al inicio de l√≠nea)
# Escribe: #
# Presiona ESC
# Presiona :wq para guardar

# Resultado: #PermitRootLogin yes
```

---

### Ejemplo 3: Duplicar Configuraci√≥n

**Escenario**: Copiar servidor virtual en nginx

```bash
vim /etc/nginx/sites-available/default

# Buscar el bloque server completo
/server {

# Copiar bloque (suponiendo 20 l√≠neas)
20yy

# Ir al final del archivo
G

# Pegar
p

# Editar el nuevo bloque (cambiar puerto, nombres, etc)
# Buscar y reemplazar dentro del bloque

# Guardar
:wq
```

---

## üîß Configuraci√≥n B√°sica de Vim

### Archivo de Configuraci√≥n

Vim lee configuraci√≥n de **~/.vimrc**:

```bash
vim ~/.vimrc
```

**Configuraci√≥n recomendada para Abacom:**

```vim
" ============ APARIENCIA ============
set number              " Mostrar n√∫meros de l√≠nea
set relativenumber      " N√∫meros relativos (mejor para movimiento)
set colorscheme desert  " Tema de color

" ============ COMPORTAMIENTO ============
set tabstop=4           " Tab = 4 espacios
set shiftwidth=4        " Indentaci√≥n = 4 espacios
set expandtab           " Usar espacios en vez de tabs
set autoindent          " Auto-indentar nuevas l√≠neas
set smartcase           " B√∫squeda sensible a may√∫sculas si las hay

" ============ B√öSQUEDA ============
set incsearch           " Buscar mientras escribes
set hlsearch            " Resaltar resultados de b√∫squeda

" ============ INTERFAZ ============
set ruler               " Mostrar posici√≥n actual
set statusline=%F\ -\ FileType:\ %Y
set mouse=a             " Soporte de mouse
```

---

## Neovim: La Versi√≥n Moderna

### Instalaci√≥n

```bash
# Ubuntu/Debian
sudo apt install neovim

# CentOS/RHEL
sudo dnf install neovim

# Arch
sudo pacman -S neovim
```

### Uso B√°sico

Nvim es **100% compatible** con Vim:

```bash
nvim archivo.txt    # Igual a vim

# Todos los comandos funcionan igual
```

### Configuraci√≥n de Nvim

En vez de **~/.vimrc**, Nvim usa **~/.config/nvim/init.vim**:

```bash
mkdir -p ~/.config/nvim
nvim ~/.config/nvim/init.vim
```

**Contenido b√°sico:**

```vim
" Heredar configuraci√≥n de vim
set number
set expandtab
set tabstop=4
```

### Diferencias Nvim vs Vim

| Aspecto | Vim | Nvim |
|--------|-----|------|
| **Velocidad** | Buena | Excelente |
| **Soporte LSP** | Plugins | Nativo |
| **Terminal integrada** | Plugin | Nativa |
| **Lua scripting** | No | S√≠ |
| **Disponibilidad** | Est√°ndar | Variable |

---

## Vi Cl√°sico: Compatibilidad Total

Si **solo** tienes Vi disponible (muy raro en 2024):

```bash
vi archivo.txt      # Vi cl√°sico (muy limitado)
```

**Diferencias Vi cl√°sico vs Vim:**

- Sin n√∫meros de l√≠nea
- Sin colores
- B√∫squeda m√°s limitada
- Pero: Todos los comandos b√°sicos funcionan igual

**Recomendaci√≥n**: Usa Vim si est√° disponible. Vi es "last resort".

---

## ‚ö†Ô∏è Errores Comunes

**Error 1: "¬øC√≥mo salgo de Vim?"**

Pregunta legendaria en StackOverflow üòÖ

```bash
# SALIDA (en este orden)
ESC         # Asegurate que est√°s en Modo Normal
:wq         # Write Quit (guardar y salir)
Enter       # Ejecutar comando

# Si no quieres guardar cambios:
:q!         # Quit sin guardar
```

**Error 2: Accidental Press ZZ**

```bash
ZZ          # Esto guarda y sale (sin querer)
# Soluci√≥n: Undo
u           # Deshacer
:e!         # Recargar archivo sin cambios
```

**Error 3: Pegar Mal Indentado**

```bash
# Al pegar desde clipboard, la indentaci√≥n se da√±a
# Soluci√≥n: Desactiva indentaci√≥n autom√°tica
:set paste      # Antes de pegar
:set nopaste    # Despu√©s de pegar

# O mejor: Copia directamente en Vim (yy)
```

**Error 4: B√∫squeda que No Funciona**

```bash
/patron     # Si no encuentra nada
# Presiona n para ir a siguiente resultado
N           # O anterior resultado

# Si sigue sin encontrar:
:set ignorecase     # Ignorar may√∫sculas/min√∫sculas
```

---

## üìä Tabla de Referencia R√°pida

| Acci√≥n | Comando | Notas |
|--------|---------|-------|
| **Insertar** | **i**, **a**, **o** | Entra Modo Insert |
| **Guardar** | **:w** | Write |
| **Salir** | **:q** | Quit |
| **Guardar y salir** | **:wq** o **ZZ** | Most common |
| **Copiar l√≠nea** | **yy** | Yank |
| **Pegar** | **p** | Paste after |
| **Deshacer** | **u** | Undo |
| **Buscar** | **/patron** | Forward search |
| **Reemplazar** | **:%s/viejo/nuevo/g** | All occurrences |
| **Ir a l√≠nea** | **5G** o **:5** | Go to line 5 |
| **Siguiente palabra** | **w** | Word |
| **Fin de l√≠nea** | **$** | Dollar sign |

---

## üéì Quiz: Verificar Comprensi√≥n

:::{.callout-tip collapse="true"}
### Pregunta 1: Modos de Vim
¬øC√≥mo vuelves a Modo Normal desde cualquier modo?

**a)** Presiona **Ctrl+C**  
**b)** Presiona **ESC** (Correcto ‚úì)  
**c)** Presiona **Enter**  
**d)** Presiona **i**  

**Explicaci√≥n**: ESC **siempre** vuelve a Modo Normal desde Insert o Command.
:::

:::{.callout-tip collapse="true"}
### Pregunta 2: Guardar y Salir
¬øCu√°l es la forma m√°s r√°pida de guardar y salir?

**a)** **:wq** (correcto pero lento)  
**b)** **:q!** (no guarda)  
**c)** **ZZ** (Correcto ‚úì - m√°s r√°pido)  
**d)** **Ctrl+S** (no funciona en Vim)  

**Explicaci√≥n**: **ZZ** es atajo de **:wq** que se teclea m√°s r√°pido.
:::

:::{.callout-tip collapse="true"}
### Pregunta 3: Reemplazar
¬øC√≥mo reemplazas TODAS las ocurrencias de "old" por "new" en un archivo?

**a)** **:s/old/new/g** (solo l√≠nea actual)  
**b)** **:%s/old/new/g** (Correcto ‚úì - archivo completo)  
**c)** **:s/old/new** (solo primera en l√≠nea)  
**d)** **/old** y luego **r** (no existe)  

**Explicaci√≥n**: **%** significa "todas las l√≠neas", **/g** significa "global" (todas en l√≠nea).
:::

---

## üë®‚Äçüíª Pr√°ctica: Editar Archivos Reales

**Ejercicio 1: Crear y Editar Archivo**

```bash
# Crear archivo
vim ~/.bashrc

# Ir al final (G)
# Pegar l√≠nea: alias ll='ls -la'
# Guardar (:wq)

# Verificar
grep "alias ll" ~/.bashrc
```

**Ejercicio 2: Buscar y Reemplazar**

```bash
# Crear archivo de prueba
echo -e "apache\nnode\napache" > /tmp/services.txt

# Abrirlo
vim /tmp/services.txt

# Reemplazar todos "apache" por "nginx"
:%s/apache/nginx/g

# Guardar
:wq

# Verificar
cat /tmp/services.txt
```

**Ejercicio 3: Comentar L√≠nea de Configuraci√≥n**

```bash
# Crear archivo
echo "enable_ssl = true" > /tmp/config.txt

# Abrirlo
vim /tmp/config.txt

# Ir al inicio de l√≠nea (0)
# Entrar Insert (I)
# Escribir: #
# ESC y guardar (:wq)

# Resultado: #enable_ssl = true
```

---

## LazyVim: Nvim Configurado y Potente

### ¬øQu√© es LazyVim?

**LazyVim** es una distribuci√≥n moderna de Neovim que viene **preconfigurada** con:

- ‚úÖ Gestor de plugins (Lazy.nvim)
- ‚úÖ LSP (Language Server Protocol) integrado
- ‚úÖ Autocompletado de c√≥digo
- ‚úÖ Snippets y debugging
- ‚úÖ Temas bonitos
- ‚úÖ Configuraci√≥n modular

**Para Abacom**: Ideal en tu m√°quina de desarrollo local. En servidores usa Vim cl√°sico.

### Instalaci√≥n de LazyVim

**Requisitos previos:**
```bash
# Instalar Neovim (0.9+)
# Ubuntu/Debian
sudo apt install neovim

# CentOS/RHEL
sudo dnf install neovim

# Arch
sudo pacman -S neovim
```

**Instalar LazyVim:**

```bash
# Backup tu configuraci√≥n actual (si existe)
mv ~/.config/nvim ~/.config/nvim.bak

# Clonar LazyVim starter template
git clone https://github.com/LazyVim/starter ~/.config/nvim  # <1>

# Eliminar .git para personalizarla
rm -rf ~/.config/nvim/.git

# Abrir Neovim (LazyVim instalar√° plugins autom√°ticamente)
nvim
```

1. **git clone** descarga la configuraci√≥n de LazyVim preconfigurada

Cuando abras nvim por primera vez:

- LazyVim descargar√° plugins (~200 MB)
- Compilar√° componentes nativos
- Espera 1-2 minutos la primera vez

---

### Estructura de LazyVim

```
~/.config/nvim/
‚îú‚îÄ‚îÄ init.lua              ‚Üê Archivo principal
‚îú‚îÄ‚îÄ lua/
‚îÇ   ‚îî‚îÄ‚îÄ config/
‚îÇ       ‚îú‚îÄ‚îÄ lazy.lua      ‚Üê Configuraci√≥n de plugins
‚îÇ       ‚îú‚îÄ‚îÄ options.lua   ‚Üê Opciones generales
‚îÇ       ‚îî‚îÄ‚îÄ keymaps.lua   ‚Üê Atajos de teclado
‚îî‚îÄ‚îÄ lazy-lock.json        ‚Üê Versiones de plugins
```

---

### Instalar Plugins en LazyVim

**Agregar nuevo plugin es muy simple:**

#### Paso 1: Editar archivo de specs

```bash
nvim ~/.config/nvim/lua/plugins/example.lua
```

#### Paso 2: Definir plugin con Lazy

```lua
-- ~/.config/nvim/lua/plugins/example.lua

return {
  -- Plugin para emojis (ejemplo simple)
  {
    "nvim-treesitter/nvim-treesitter",  -- <1>
    version = false,
    build = ":TSUpdate",                 -- <2>
    event = { "BufReadPost", "BufNewFile" },
    config = function()
      require("nvim-treesitter.configs").setup({
        ensure_installed = { "bash", "python", "lua" },  -- <3>
        highlight = { enable = true },
      })
    end,
  },
}
```

1. **nvim-treesitter/nvim-treesitter** es el identificador GitHub del plugin

2. **build** ejecuta comando despu√©s de instalar

3. **ensure_installed** lista lenguajes a soportar

---

### Ejemplo: Instalar Plugin para Markdown

**Escenario**: Quieres mejor soporte para archivos Markdown

```bash
# Editar configuraci√≥n
nvim ~/.config/nvim/lua/plugins/markdown.lua
```

**Contenido:**

```lua
return {
  {
    "iamcco/markdown-preview.nvim",     -- <1>
    cmd = { "MarkdownPreview" },        -- <2>
    ft = { "markdown" },                -- <3>
    build = "cd app && npm install",    -- <4>
    config = function()
      vim.g.mkdp_auto_start = 0
      vim.g.mkdp_auto_close = 1
    end,
  },
}
```

1. Plugin para preview de Markdown en navegador

2. **cmd** = cargar solo cuando ejecutes **:MarkdownPreview**

3. **ft** = cargar solo para archivos markdown

4. **build** = instalar dependencias Node.js

**Uso despu√©s:**

```bash
nvim archivo.md

# Dentro de Nvim:
:MarkdownPreview    # Abre preview en navegador
```

---

### Ejemplo: Instalar LSP para Python

**LSP = Language Server Protocol** proporciona autocompletado, definiciones, etc.

```bash
nvim ~/.config/nvim/lua/plugins/python.lua
```

**Contenido:**

```lua
return {
  {
    "neovim/nvim-lspconfig",            -- <1>
    config = function()
      local lspconfig = require('lspconfig')
      
      -- Configurar Python LSP
      lspconfig.pyright.setup({         -- <2>
        on_attach = function(client, bufnr)
          -- Atajos para navegar definiciones
          local opts = { noremap=true, silent=true }
          vim.keymap.set('n', 'gd', vim.lsp.buf.definition, opts)  -- <3>
          vim.keymap.set('n', 'gr', vim.lsp.buf.references, opts)
        end,
      })
    end,
  },
}
```

1. **nvim-lspconfig** configura servidores de lenguaje

2. **pyright** es el LSP de Python (autocompletado, type checking)

3. **gd** = shortcut para "go to definition"

**Primero**, instala el servidor Python:

```bash
# Instalar Pyright (LSP de Python)
pip install pyright

# O con npm
npm install -g pyright
```

---

### Personalizar Atajos en LazyVim

Edita **~/.config/nvim/lua/config/keymaps.lua**:

```lua
local keymap = vim.keymap.set

-- Atajos personalizados
keymap("n", "<Leader>w", ":w<CR>", { noremap = true })  -- <1>
keymap("n", "<Leader>q", ":q<CR>", { noremap = true })
keymap("n", "<Leader>x", ":wq<CR>", { noremap = true })

-- Navegar entre ventanas con Ctrl+hjkl
keymap("n", "<C-h>", "<C-w>h", { noremap = true })
keymap("n", "<C-j>", "<C-w>j", { noremap = true })
keymap("n", "<C-k>", "<C-w>k", { noremap = true })
keymap("n", "<C-l>", "<C-w>l", { noremap = true })
```

1. **<Leader>w** = "Espacio + w" para guardar. Espacio es la tecla l√≠der por defecto

Despu√©s, recarga Nvim:
```bash
:source ~/.config/nvim/lua/config/keymaps.lua
```

---

### Temas en LazyVim

LazyVim viene con varios temas. Cambiar en **~/.config/nvim/lua/config/options.lua**:

```lua
-- Tema (colorscheme)
vim.cmd.colorscheme "tokyonight"  -- <1>

-- Otros temas disponibles:
-- "tokyonight"
-- "everforest"
-- "gruvbox"
-- "catppuccin"
-- "nord"
```

1. **tokyonight** es tema por defecto. Otros est√°n en lazy.nvim

Cambiar y recargar:
```bash
nvim
# Dentro:
:colorscheme gruvbox  # Cambiar tema en vivo
```

---

### Comparaci√≥n: LazyVim vs Vim vs Nvim Vanilla

| Aspecto | Vim | Nvim Vanilla | LazyVim |
|--------|-----|-------------|---------|
| **Instalaci√≥n** | Preinstalado | 5 minutos | 10 minutos |
| **Configuraci√≥n** | ~/.vimrc | ~/.config/nvim | ~/.config/nvim |
| **Plugins** | Plugins manuales | Lazy.nvim | Preconfigurado |
| **LSP** | Via plugins | Manual | Autom√°tico |
| **Curva aprendizaje** | Baja | Media | Baja (templated) |
| **Producci√≥n** | ‚úÖ | ‚úÖ | ‚ùå (mejor solo desarrollo) |

**Para Abacom:**

- **Servidor SSH**: Usa **Vim**
- **Tu m√°quina**: Usa **LazyVim** o **Vim** seg√∫n preferencia

---

### Trucos LazyVim

**Ver todos los plugins:**
```bash
# En Nvim:
:Lazy          # Abre manager de plugins
```

**Actualizar plugins:**
```bash
# En Nvim:
:Lazy update   # Actualiza todos los plugins
```

**Ver configuraci√≥n:**
```bash
# Ver atajos actuales
:map

# Ver configuraci√≥n cargada
:lua print(vim.inspect(vim.o))
```

---

## üìö Recursos Adicionales

- **Vim Online Tutor**: https://www.openvim.com/
- **Vim Cheat Sheet**: https://vim.rtorr.com/
- **Neovim Docs**: https://neovim.io/
- **LazyVim**: https://www.lazyvim.org/
- **Lazy.nvim Plugin Manager**: https://github.com/folke/lazy.nvim
- **Interactive Vim Tutorial**: https://github.com/vim/vim-tutor

---

## Conclusi√≥n

Ahora sabes:
‚úì Los 3 modos de Vim (Normal, Insert, Command)
‚úì Navegar eficientemente
‚úì Editar archivos r√°pidamente
‚úì Buscar y reemplazar
‚úì Guardar sin dramas

**Pr√≥ximo paso**: Usa Vim para editar archivos de configuraci√≥n en Abacom.

**Consejo profesional**: Practica 15 minutos diarios hasta que sea "muscle memory". Despu√©s, Vim ser√° tu editor favorito.

---
