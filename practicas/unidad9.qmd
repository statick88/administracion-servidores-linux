---
title: "Practica Unidad 9: Apache"
author: "Diego Saavedra"
date: "2026-02-02"
date-format: medium
---

# Practica Unidad 9: Apache

## Objetivo

Instalar Apache, levantar un sitio simple con VirtualHost, y entregar evidencias (servicio, puerto, respuesta, logs).

## Entregables

- Evidencias (salidas) de comandos solicitados.
- URL/host de prueba usado.

---

## Parte 1: Instalacion y validacion

```bash
$ sudo apt update  # <1>
# <1>

$ sudo apt install -y apache2  # <2>
# <2>

$ systemctl status apache2 --no-pager  # <3>
● apache2.service - The Apache HTTP Server
     Active: active (running)
# <3>

$ sudo ss -lntp | grep ':80'  # <4>
LISTEN 0 511 0.0.0.0:80 0.0.0.0:* users:("apache2",pid=1234,fd=4)
# <4>

$ curl -I http://localhost  # <5>
HTTP/1.1 200 OK
Server: Apache/2.4.58 (Ubuntu)
# <5>
```



1. **apt update** actualiza el indice de paquetes.
2. **apt install apache2** instala Apache.
3. **systemctl status** valida servicio.
4. **ss -lntp** valida puerto 80 en escucha.
5. **curl -I** valida respuesta HTTP.

---

## Parte 2: Crear VirtualHost

```bash
$ sudo mkdir -p /var/www/site1/public  # <1>
# <1>

$ echo '<h1>Site1 OK</h1>' | sudo tee /var/www/site1/public/index.html >/dev/null  # <2>
# <2>

$ sudo tee /etc/apache2/sites-available/site1.conf >/dev/null <<'EOF'  # <3>
<VirtualHost *:80>
  ServerName site1.local
  DocumentRoot /var/www/site1/public
  ErrorLog ${APACHE_LOG_DIR}/site1-error.log
  CustomLog ${APACHE_LOG_DIR}/site1-access.log combined
</VirtualHost>
EOF
# <3>

$ sudo a2ensite site1.conf  # <4>
# <4>

$ sudo apachectl configtest  # <5>
Syntax OK
# <5>

$ sudo systemctl reload apache2  # <6>
# <6>

$ curl -H 'Host: site1.local' http://127.0.0.1  # <7>
<h1>Site1 OK</h1>
# <7>
```



1. **mkdir -p** crea el DocumentRoot.
2. **tee** escribe index.html con permisos root.
3. **tee + heredoc** crea el archivo del sitio.
4. **a2ensite** habilita el VirtualHost.
5. **apachectl configtest** valida sintaxis.
6. **systemctl reload** aplica cambios.
7. **curl -H Host** valida el vhost.

---

## Parte 3: Evidencias de logs

```bash
$ sudo tail -n 5 /var/log/apache2/site1-access.log  # <1>
127.0.0.1 - - [02/Feb/2026:12:10:11 +0000] "GET / HTTP/1.1" 200 15 "-" "curl/8.1.0"
# <1>
```



1. **tail** muestra evidencia de request registrado.

## Checklist de aceptación

- [ ] Apache está activo (evidencia de `systemctl status apache2 --no-pager`)
- [ ] El puerto 80 está en escucha (evidencia de `ss -lntp | grep ':80'`)
- [ ] El VirtualHost responde usando `curl -H 'Host: site1.local'`
- [ ] Incluí evidencia de logs (access log)
